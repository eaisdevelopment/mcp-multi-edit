---
phase: 11-publishing
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/server.ts
  - LICENSE
  - CHANGELOG.md
autonomous: true

must_haves:
  truths:
    - "package.json name is @essentialai/mcp-multi-edit"
    - "package.json version is 0.1.0"
    - "package.json author is Pavlo Sidelov <pavlo@essentialai.uk>"
    - "package.json license is PolyForm-Noncommercial-1.0.0"
    - "package.json has files allowlist with dist/, src/, LICENSE, CHANGELOG.md"
    - "package.json has publishConfig.access set to public"
    - "package.json has engines.node >= 20.0.0"
    - "package.json has repository pointing to eaisdevelopment/mcp-multi-edit"
    - "LICENSE file contains PolyForm Noncommercial 1.0.0 text (NOT MIT)"
    - "CHANGELOG.md exists with 0.1.0 initial entry"
    - "MCP server reports version 0.1.0 and name mcp-multi-edit"
  artifacts:
    - path: "package.json"
      provides: "Package identity, metadata, distribution config"
      contains: "@essentialai/mcp-multi-edit"
    - path: "LICENSE"
      provides: "PolyForm Noncommercial license text"
      contains: "PolyForm Noncommercial License 1.0.0"
    - path: "CHANGELOG.md"
      provides: "Initial release changelog"
      contains: "0.1.0"
    - path: "src/server.ts"
      provides: "MCP server identity with correct version"
      contains: "0.1.0"
  key_links:
    - from: "package.json"
      to: "LICENSE"
      via: "license field references PolyForm-Noncommercial-1.0.0"
      pattern: "PolyForm-Noncommercial-1.0.0"
    - from: "package.json"
      to: "src/server.ts"
      via: "version must match"
      pattern: "0\\.1\\.0"
---

<objective>
Update all package metadata, replace MIT license with PolyForm Noncommercial, create changelog, and fix server version.

Purpose: Establish correct package identity and legal terms before README and publishing.
Output: Updated package.json, new LICENSE, new CHANGELOG.md, updated src/server.ts
</objective>

<execution_context>
@/Users/dev/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-publishing/11-CONTEXT.md
@.planning/phases/11-publishing/11-RESEARCH.md
@package.json
@src/server.ts
@LICENSE
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update package.json and server.ts</name>
  <files>package.json, src/server.ts</files>
  <action>
Update package.json with the following changes (preserve existing dependencies, devDependencies, scripts structure):

1. `name`: change from `@anthropic-community/eais-mcp-multi-edit` to `@essentialai/mcp-multi-edit`
2. `version`: change from `1.0.0` to `0.1.0`
3. `description`: keep as-is ("MCP server providing atomic multi-edit capabilities for Claude Code")
4. `author`: change from `Pavlo Sidelov <pavlo@sdkfinance.com>` to `Pavlo Sidelov <pavlo@essentialai.uk>`
5. `license`: change from `MIT` to `PolyForm-Noncommercial-1.0.0`
6. `repository.url`: change from `https://github.com/anthropic-community/eais-mcp-multi-edit` to `https://github.com/eaisdevelopment/mcp-multi-edit`
7. Add `types`: `"dist/index.d.ts"`
8. Add `files`: `["dist/", "src/", "LICENSE", "CHANGELOG.md"]`
9. Add `publishConfig`: `{"access": "public"}`
10. Add `bugs`: `{"url": "https://github.com/eaisdevelopment/mcp-multi-edit/issues"}`
11. Add `homepage`: `"https://github.com/eaisdevelopment/mcp-multi-edit#readme"`
12. Update `keywords` to: `["mcp", "model-context-protocol", "claude", "claude-code", "multi-edit", "file-editing", "atomic-operations", "find-and-replace", "code-editing"]`

In src/server.ts, update the server identity object (around line 126-128):
- Change `name` from `'eais-mcp-multi-edit'` to `'mcp-multi-edit'`
- Change `version` from `'1.0.0'` to `'0.1.0'`
  </action>
  <verify>
Run `node -e "const p=JSON.parse(require('fs').readFileSync('package.json','utf8')); console.log(p.name, p.version, p.license, p.author, p.publishConfig?.access)"` and confirm output is `@essentialai/mcp-multi-edit 0.1.0 PolyForm-Noncommercial-1.0.0 Pavlo Sidelov <pavlo@essentialai.uk> public`. Then run `npm run build` to ensure compilation still succeeds.
  </verify>
  <done>package.json has all correct metadata fields per user decisions. server.ts reports name mcp-multi-edit and version 0.1.0. Build succeeds.</done>
</task>

<task type="auto">
  <name>Task 2: Replace LICENSE and create CHANGELOG.md</name>
  <files>LICENSE, CHANGELOG.md</files>
  <action>
Replace the entire LICENSE file content with the PolyForm Noncommercial License 1.0.0. The file must contain:

1. Copyright header:
```
Copyright (c) 2026 Essential AI Solutions (Pavlo Sidelov)
```

2. Commercial licensing notice:
```
For commercial licensing inquiries, contact: support@essentialai.uk
```

3. The full PolyForm Noncommercial License 1.0.0 text verbatim from https://polyformproject.org/licenses/noncommercial/1.0.0/ â€” include all sections: Acceptance, Copyright License, Distribution License, Notices, Changes and New Works License, Patent License, Noncommercial Purposes, Personal Uses, Noncommercial Organizations, Fair Use, No Other Rights, Patent Defense, Violations, No Liability, Definitions.

Create CHANGELOG.md using Keep a Changelog format:

```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.1.0] - 2026-02-09

### Added
- `multi_edit` tool: atomic find-and-replace operations on a single file
- `multi_edit_files` tool: coordinated edits across multiple files with rollback
- Dry-run mode for previewing changes without modification
- Automatic backup (.bak) file creation before edits
- Structured error responses with recovery hints for LLM retry
- Conflict detection for overlapping edits
- Path validation (absolute paths, symlink resolution, existence checks)
- Replace-all flag for global string replacement per edit
- 90%+ test coverage with unit and integration tests

[0.1.0]: https://github.com/eaisdevelopment/mcp-multi-edit/releases/tag/v0.1.0
```
  </action>
  <verify>
Confirm LICENSE file does NOT contain "MIT" (grep -c "MIT" LICENSE should return 0). Confirm LICENSE contains "PolyForm Noncommercial" (grep -c "Noncommercial" LICENSE should return >0). Confirm CHANGELOG.md exists and contains "0.1.0" (grep -c "0.1.0" CHANGELOG.md should return >0). Run `npm run test` to ensure nothing is broken.
  </verify>
  <done>LICENSE contains PolyForm Noncommercial 1.0.0 with Essential AI Solutions copyright and commercial contact. CHANGELOG.md exists with initial 0.1.0 entry listing all features. All tests still pass.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without errors
2. `npm run test` passes all tests
3. package.json fields match all user-locked decisions
4. LICENSE file is PolyForm Noncommercial (not MIT)
5. CHANGELOG.md exists with proper format
6. server.ts version matches package.json version (0.1.0)
</verification>

<success_criteria>
- Package identity is @essentialai/mcp-multi-edit v0.1.0
- All package.json metadata fields present and correct per CONTEXT.md decisions
- PolyForm Noncommercial license replaces MIT
- CHANGELOG.md documents initial release features
- MCP server identifies as mcp-multi-edit v0.1.0
- Build and tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/11-publishing/11-01-SUMMARY.md`
</output>
